*CloudWatch Events* and *EventBridge* have visibility over events generated by supported AWS services within an account.

They can monitor the default account event bus - and pattern match events flowing through and deliver these events to multiple targets.

They are also the *source of scheduled events* which *can perform certain actions at certain times of day, days of the week*, or multiple combinations of both - *using the Unix CRON* time expression format.

Both services are one way how event driven architectures can be implemented within AWS.
#### Key Concepts
![[CloudWatchEvents & EventBridge.png]]
*CloudWatch Events* delivers a near real-time stream of system events and these events describe changes in AWS products and services.

When an instance is terminated, started or stopped, these generate an event, and when any AWS products and services, which are supported by CloudWatch Events perform actions, they generate events that the product has visibility of.

*EventBridge* is the service which is **replacing CloudWatch Events**. It can perform all of the same bits of functionality that CloudWatch Events can produce. So it’s got a super set of its functionality. But in addition, *EventBridge* **can also handle events from 3rd parties** as well as custom applications.

Both of these services actually *operate* using a *default entity*, which is known as an *event bus* and **both** of them actually *have a default event bus* for a single AWS account. *CloudWatch events* has **only one** default even bus while *EventBridge* can **create additional buses**, either for your applications or 3rd products and services

With *CloudWatch Events* and *EventBridge*, you create **rules** and these **rules** pattern *match events* which occur on the buses, and when they see an event which matches, they *deliver that event to a target*.
Alternatively, you also have *schedule-based* rules, which are essentially pattern-matching rules but which match a certain date and time or ranges.
#### EventBridge / CloudWatch Events
![[CloudWatchEvents & EventBridge-1.png]]
Architecturally, at the heart of *EventBridge* is the default account event bus, which is a stream of events which are generated by supported services within AWS account.

EC2 is an example of a supported service, we’ve got Bob changing the state of an EC2 instance and he’s changing the state from stopped to running

When the instance changes state, an event gets generated which runs through the event bus. EventBridge, which sits over the top of any event buses that it has exposure to monitors all of the events which pass through this event bus.

Within EventBridge, or CloudWatch Events, we have rules. Rules are created and these are linked to a specific event bus and the default is the account default EventBridge.

The 2 types of rules are pattern-matching rules and these match particular patterns of the events themselves as they pass through the event bus.

We’ve also got schedule rules, which match particular cron-formatted times or ranges of times. When this cron-formatted expression matches a particular time, the rule is executed and in both of these cases, when a rule is executed, the rule delivers the particular event that it’s matched through to one or more targets.

Events themselves are just JSON structures and the data in the event structure can be used by the targets. In the example of a state change of an EC2 instance, the Lambda function will receive the event JSON data, which includes which instance has changed state, what state it’s changed into, as well as all the things like the date and time when the change occurred.

[[Serverless Architect]]